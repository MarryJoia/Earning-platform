<!DOCTYPE html>
<html>
<head><title>Dashboard</title></head>
<body>

<h2>Dashboard</h2>

<p>Email: <span id="email"></span></p>
<p>Package: <span id="package">None</span></p>
<p>Balance: $<span id="balance">0</span></p>

<h3>Packages</h3>

<button onclick="buyPackage(50,1)">50$ Package</button>
<button onclick="buyPackage(100,2)">100$ Package</button>
<button onclick="buyPackage(200,4)">200$ Package</button>
<button onclick="buyPackage(500,10)">500$ Package</button>

<br><br>
<button onclick="claimDaily()">Claim Daily Earning</button>
<br><br>
<button onclick="logout()">Logout</button>

<script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-app-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-auth-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-database-compat.js"></script>
<script src="app.js"></script>

<script>
firebase.auth().onAuthStateChanged(user => {
  if (!user) location.href = "login.html";
  document.getElementById("email").innerText = user.email;

  firebase.database().ref("users/" + user.uid)
    .on("value", snap => {
      const d = snap.val();
      document.getElementById("balance").innerText = d?.balance || 0;
      document.getElementById("package").innerText = d?.package || "None";
    });
});
</script>

</body>
</html>
